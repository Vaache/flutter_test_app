# test_example

Небольшой демонстрационный Flutter-проект с экраном онбординга и paywall (подпиской).

## Описание
Приложение показывает экран приветствия, экран оплаты (paywall) и домашний экран для подписанных пользователей. Состояние подписки и выбранный план сохраняются в SharedPreferences.

## Требования
- Flutter SDK 3.x или новее
- Dart (в комплекте с Flutter)
- Пакет shared_preferences (уже используется в проекте)

## Быстрый старт (локально)
1. Клонируйте репозиторий или откройте папку проекта.
2. Установите зависимости:
   - В терминале в корне проекта выполните:
     flutter pub get
3. Запустите приложение:
   - Для эмулятора/устройства:
     flutter run

## Структура проекта (важные файлы)
- lib/main.dart — точка входа. Инициализирует статус подписки и запускает TestApp.
- lib/core/test_app.dart — корневой виджет MaterialApp, выбирает начальный экран.
- lib/features/onboarding/onboarding_screen.dart — экран онбординга и переход к paywall.
- lib/features/paywall/paywall_screen.dart — экран с выбором плана (paywall).
- lib/features/paywall/widgets/paywall_card.dart — карточка плана (UI).
- lib/features/home/home_screen.dart — домашний экран для подписанных пользователей.
- lib/core/paywall_service/paywall_service.dart — сервис для сохранения/чтения подписки (SharedPreferences).

## Поведение подписки
- Сервис PaywallService сохраняет:
  - булево значение `subscription` — подписан ли пользователь.
  - строку `subscription_plan` — выбранный план ('Месяц' или 'Год').
- При старте приложения main.dart считывает `getSubscriptionStatus()` и показывает либо HomeScreen (если подписан), либо OnboardingScreen.

## Тестирование
- Для эмуляции подписки можно вызвать в коде:
  await PaywallService().subscribe('Месяц'); // или 'Год'
- Можно очистить SharedPreferences, чтобы сбросить состояние (через код или сброс данных приложения в эмуляторе).

## Советы по разработке
- Убедитесь, что в pubspec.yaml подключён пакет shared_preferences.
- Используйте Flutter DevTools и логирование для отладки состояния подписки.

## Лицензия и контакты
Проект демонстрационный — используйте и модифицируйте свободно. Для вопросов — откройте issue или свяжитесь с автором репозитория.
